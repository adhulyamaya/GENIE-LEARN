{% extends 'base.html' %}
{% load static %}

{% block content %}
<div style="background-color: black; padding: 20px; border-radius: 10px; color: white; max-width: 500px; margin: 40px auto; border: 1px solid #00cccc;">
  <h2 style="color: #00f0f0; text-align: center;">Send a Message</h2>

  <form method="POST">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" 
            style="width: 100%; padding: 10px; background-color: #00cccc; color: black; font-weight: bold; border: none; border-radius: 5px;">
      Send
    </button>
  </form>

  {% if messages_list %}
    <h3 style="margin-top: 30px; color: #00f0f0;">Recent Messages</h3>
    <ul style="list-style: none; padding: 0;">
      {% for msg in messages_list %}
        <li style="padding: 10px; margin-bottom: 10px; border-radius: 5px; background-color: black; color: white; border: 1px solid #ccc;">
          <strong>{{ msg.sender }} â†’ {{ msg.receiver }}:</strong><br>
          {{ msg.message }}<br>
          <span style="font-size: 12px; color: #aaa;">{{ msg.timestamp }}</span>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</div>
{% endblock %}
